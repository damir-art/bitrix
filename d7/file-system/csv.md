# Работаем с CSV
https://www.youtube.com/watch?v=AYGkc-7wNKo

CSV - это обычный текстовый формат, где таблицы представлены в виде текста.  
Этот файл можно открыть с помощью текстового редактора.  
Данные таблицы разделяются с помощью точки с запятой.

## Получаем доступ
Открытие, чтение и вывод информации CSV-файла:

    // Получаем CSV файл
    // Получаем доступ к файлу (можно также работать через класс CCSVData())
    $fileCsv = $_SERVER['DOCUMENT_ROOT'] . '/crm_city_shorts.csv';
    //echo $fileCsv;

    // Проверяем CSV-файл на существование ($file - указатель на файл, r - файл открываем в режиме чтения)
    if(($file = fopen($fileCsv, 'r')) !== false) {
      // echo 'Есть доступ к файлу';
      // Получив доступ, построчно считываем файл
      while(($data = fgetcsv($file, 1000, ';')) !== false ) {
        // Первая строка заголовки таблицы, остальное это данные
        // echo '<pre>';
        // print_r( $data );
        // echo '</pre>';
        $out = '';
        for( $i = 0; $i < count($data); $i++ ) {
          $out .= $data[$i] . ' ';
        }
        echo $out . '<br />';
      }
      // Закрываем файл после работы с ним
      fclose($file);
    };

## CSV файл в массив

    // Получаем CSV файл
    // Получаем доступ к файлу (можно также работать через класс CCSVData())
    $fileCsv = $_SERVER['DOCUMENT_ROOT'] . '/crm_city_shorts.csv';
    //echo $fileCsv;

    $res = [];
    // Проверяем CSV-файл на существование ($file - указатель на файл, r - файл открываем в режиме чтения)
    if(($file = fopen($fileCsv, 'r')) !== false) {
      // echo 'Есть доступ к файлу';
      // Получив доступ, построчно считываем файл
      while(($data = fgetcsv($file, 1000, ';')) !== false ) {
        // Читаем файл и помещаем внутрь массива
        // В нулевом элементе хранятся заголовик таблицы
        $res[] = $data;
      }
      // Закрываем файл после работы с ним
      fclose($file);
    };

    echo '<pre>';
    print_r( $res );
    echo '</pre>';

## Запись данных внутрь CSV файла

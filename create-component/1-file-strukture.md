# Файловая структура
Файловая структура компонента.  
Люьой из компонентов имеет обязательный набор папок и файлов.  
- component.php
- .parameters.php
- .description.php
- lang/
- images/
- templates/
- Работа компонента

Компонент это логически завершённый код, состоящий из ряда папок и файлов. Часть из них обязательна, а часть может отсутствовать.

## component.php
Самый главный файл компонента.  
Обрабатывает входящие параметры.  
Производит выборку из базы данных.  
Формирует массив `$arResult`.  
При помощи `$this->includeComponentTemplate()` результат работы передаётся в шаблон компонента.  
Описывается вся логика работы компонента (размещать HTML-код не рекомендуется).

## .parameters.php
Описаны параметры компонента.  
Параметры задаются в форме настройки компонента.  
Содержит массив `$arComponentParameters` (в него передаются настройки которые отображаются в компоненте).  
`$arComponentParameters['PARAMETERS']` - здесь создаются все параметры, эти пераметры передаются в файл component.php массив $arParams, далее компонент их обрабатывает и формирует массив $arResult.  
Данный файл должен присутствовать, если у компонента есть входные параметры.

## .description.php
Описание компонента.  
Порядок отображения сбоку в визуальном редакторе.  
Необязательный файл, при его отсутствии компонент не будет отображаться в визуальном редакторе.

## lang/
Папка `lang/` содержит языковые файлы.  
Папка `lang/help/` содержит подсказки для параметров компонента.  

## images/
Иконка компонента, выводится в визуальном редакторе (раньше выводилась) и в форме при копировании компонента.

## templates/
Шаблоны компонента, определяющие формат вывода данных на странице сайта.  
Каждая папка внутри это отдельный шаблон.  
Папка `.default` должна присутствовать всегда (она подключается если не указывать имя шаблона).  

- `template.php` - вывод информации в публичной части (логика сводится к минимуму),
  - содержит верстку и данные из массива `$arResult` сформированные в component.php,
  - также происходит работа с массивом `$arParams`,
- `.parameters.php` - может присутствовать дополнительный файл параметров,
  - модифицирует параметры компонента,
- `result_modifier.php` - дополняем логику компонента, не вмешиваясь в его код,
- `lang/` - папка с языковыми файлами,
- `.description.php` - файл описывающий шаблон компонента (необязательный),
- `component_epilog.php` - (необязательный),
- `style.css` - стили шаблона компонента,
- `script.js` - скрипт шаблона комопнента,
- и т.п.

У некоторых компонентов могут отсутствовать шаблоны, как и сама папка.

## Работа компонента
Логика работы компонента.

Компонент `component.php` получает входящие параметры из массива `$arParams (.parameters.php)`, затем обрабатывает полученную информацию и формирует итог работы в массивах `$arResult` и `$arParams`, которые передаются в шаблон компонента (если он имеется), на основе которого строится вывод информации в публичной части сайта.
